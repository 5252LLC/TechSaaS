<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TechSaaS API - ReDoc</title>
  <link rel="icon" type="image/png" href="/static/favicon.ico" />
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    }
    
    .menu-content img {
      padding: 20px 0;
    }
    
    .api-info-wrapper {
      margin-top: 30px;
    }
    
    :root {
      --theme-color: #4990e2;
      --text-color: #333;
      --text-color-secondary: #4c555a;
      --border-color: #ddd;
      --code-background: #f5f7f9;
      --code-color: #333;
      --code-border-color: #e4e8ef;
    }
    
    /* Dark mode support */
    @media (prefers-color-scheme: dark) {
      :root {
        --theme-color: #4990e2;
        --text-color: #f0f0f0;
        --text-color-secondary: #b4b4b4;
        --border-color: #444;
        --code-background: #252525;
        --code-color: #f0f0f0;
        --code-border-color: #444;
      }
    }
  </style>
</head>
<body>
  <div id="redoc"></div>
  
  <script src="https://cdn.jsdelivr.net/npm/redoc@2.0.0/bundles/redoc.standalone.js"></script>
  <script>
    Redoc.init(
      '/api/docs/openapi.json',
      {
        scrollYOffset: 50,
        theme: {
          colors: {
            primary: {
              main: '#4990e2'
            },
            text: {
              primary: 'var(--text-color)',
              secondary: 'var(--text-color-secondary)'
            },
            border: {
              dark: 'var(--border-color)',
              light: 'var(--border-color)'
            },
            http: {
              get: '#4990e2',
              post: '#49cc90',
              put: '#fca130',
              delete: '#f93e3e'
            },
            responses: {
              success: {
                color: '#49cc90',
                backgroundColor: 'rgba(73, 204, 144, 0.1)'
              },
              error: {
                color: '#f93e3e',
                backgroundColor: 'rgba(249, 62, 62, 0.1)'
              },
              redirect: {
                color: '#fca130',
                backgroundColor: 'rgba(252, 161, 48, 0.1)'
              },
              info: {
                color: '#4990e2',
                backgroundColor: 'rgba(73, 144, 226, 0.1)'
              }
            },
            sidebar: {
              backgroundColor: '#fafafa',
              textColor: 'var(--text-color)'
            }
          },
          typography: {
            fontSize: '14px',
            headings: {
              fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif',
              fontWeight: '600'
            },
            code: {
              fontSize: '13px',
              fontFamily: 'Monaco, Consolas, "Andale Mono", "DejaVu Sans Mono", monospace',
              color: 'var(--code-color)',
              backgroundColor: 'var(--code-background)',
              wrap: true
            }
          },
          sidebar: {
            width: '300px'
          },
          rightPanel: {
            backgroundColor: 'var(--code-background)',
            borderColor: 'var(--code-border-color)'
          }
        },
        expandResponses: '200,201',
        sortPropsAlphabetically: false,
        hideDownloadButton: false,
        requiredPropsFirst: true,
        sortEnumValuesAlphabetically: true,
        nativeScrollbars: false,
        hideHostname: false,
        noAutoAuth: false,
        onlyRequiredInSamples: false,
        pathInMiddlePanel: false,
        hideLoading: false,
        hideSearch: false
      },
      document.getElementById('redoc')
    );
    
    // Add TechSaaS logo to the menu header
    setTimeout(() => {
      const menuContent = document.querySelector('.menu-content');
      if (menuContent) {
        const logo = document.createElement('img');
        logo.src = '/static/logo.png';
        logo.alt = 'TechSaaS Logo';
        logo.height = 40;
        logo.style.display = 'block';
        logo.style.margin = '0 auto';
        
        menuContent.insertBefore(logo, menuContent.firstChild);
      }
    }, 1000);
  </script>
</body>
</html>
